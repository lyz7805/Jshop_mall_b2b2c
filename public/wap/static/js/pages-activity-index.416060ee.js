(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-activity-index"],{"10da":function(t,e,i){t.exports=i.p+"static/img/circle.2fd04c3a.png"},"1de5":function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"2d13":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"conbox"},[i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"cont",attrs:{src:"/static/img/bg.png",mode:""}}),i("v-uni-image",{staticClass:"caidai",attrs:{src:"/static/img/caidai.png",mode:""}}),i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"header-title"},[i("v-uni-view",{staticClass:"left"},[t._v("免费次数："),i("v-uni-text",{staticStyle:{color:"#E4431A"}},[t._v(t._s(t.chishu))])],1),i("v-uni-view",{staticClass:"left"},[t._v("账户积分："),i("v-uni-text",{staticStyle:{color:"#E4431A"}},[t._v(t._s(t.jifen))])],1),i("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getmyPrize.apply(void 0,arguments)}}},[t._v("抽奖记录 >")])],1)],1),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"canvas-container"},[i("v-uni-view",{staticClass:"canvas-content",attrs:{animation:t.animationData,id:"zhuanpano"}},[i("v-uni-view",{staticClass:"canvas-line"},t._l(t.awardsList,(function(t,e){return i("v-uni-view",{key:e,staticClass:"canvas-litem",style:[{transform:"rotate("+t.lineTurn+")"}]})})),1),i("v-uni-view",{staticClass:"canvas-list"},t._l(t.awardsList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"canvas-item",style:[{zIndex:a}]},[i("v-uni-view",{staticClass:"canvas-item-text",style:[{transform:"rotate("+e.turn+")"}]},[i("v-uni-text",[t._v(t._s(e.award))]),0==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/kongjiang.png"}}):t._e(),1==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/jifen.png"}}):t._e(),2==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/youhuiquan.png"}}):t._e(),3==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/yue.png"}}):t._e(),4==e.type?i("v-uni-image",{staticClass:"canvas-item-text-img",attrs:{src:"/static/img/shangpin.png"}}):t._e()],1)],1)})),1)],1),i("v-uni-view",{staticClass:"canvas-btn",class:t.btnDisabled,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.playReward.apply(void 0,arguments)}}},[t._v("开始")])],1)],1),i("v-uni-view",{staticClass:"typecheckbox"}),i("v-uni-view",{staticClass:"guize"},[i("v-uni-view",{staticClass:"title"},[t._v("规则说明")]),t._l(t.awardsConfig.rule,(function(e,a){return i("v-uni-view",{key:a,staticClass:"g_item"},[t._v(t._s(e))])}))],2),i("v-uni-view",{staticClass:"typecheckbox2"}),t.r_flg?i("v-uni-view",{staticClass:"shadowbox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeshadow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"myrewards",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.openshadow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[t._v("抽奖记录")]),i("v-uni-view",{staticClass:"itembox"},t._l(t.myPrizelist,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item"},[i("div",{staticClass:"t"},[i("v-uni-text",{staticClass:"left"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"right"},[t._v(t._s(e.ctime_name))])],1),i("div",{staticClass:"b"},[t._v(t._s(e.prize_content))])])})),1)],1)],1):t._e()],1)],1)},o=[]},"399a":function(t,e,i){"use strict";i.r(e);var a=i("2d13"),n=i("ff63");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("5c81");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"7b899d24",null,!1,a["a"],s);e["default"]=d.exports},4652:function(t,e,i){var a=i("24fb"),n=i("1de5"),o=i("10da");e=a(!1);var s=n(o);e.push([t.i,".conbox[data-v-7b899d24]{width:%?750?%;height:100vh;overflow-x:hidden;overflow-y:scroll}.container[data-v-7b899d24],\n\tuni-image.cont[data-v-7b899d24]{width:%?750?%;min-height:100vh;height:auto;position:relative}uni-image.cont[data-v-7b899d24]{height:100%;position:absolute;z-index:0}uni-image.caidai[data-v-7b899d24]{position:absolute;top:0;left:0;width:%?750?%;height:%?1024?%}.header[data-v-7b899d24]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;\n\t\t/* height: 246upx; */padding-top:%?48?%;padding-bottom:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;z-index:3}.header-title[data-v-7b899d24]{width:100%;height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?48?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.header-title>uni-view[data-v-7b899d24]{padding:%?8?% %?16?%;border:1px solid #d89720;color:#d89720;font-size:%?28?%;-webkit-border-radius:%?26?%;border-radius:%?26?%}\n\n\t/* 转盘 */.canvas-container[data-v-7b899d24]{margin:0 auto;position:relative;width:%?600?%;height:%?600?%;background:url("+s+') no-repeat;background-size:cover;-webkit-border-radius:50%;border-radius:50%}.canvas[data-v-7b899d24]{width:100%;height:100%;display:block!important;-webkit-border-radius:50%;border-radius:50%}.canvas-content[data-v-7b899d24]{position:absolute;left:0;top:0;z-index:1;display:block;width:%?600?%;height:%?600?%;-webkit-border-radius:inherit;border-radius:inherit\n\t\t/* background-clip: padding-box; */\n\t\t/* background-color: #ffcb3f; */}.canvas-element[data-v-7b899d24]{position:relative;z-index:1;width:inherit;height:inherit;-webkit-border-radius:50%;border-radius:50%}.canvas-list[data-v-7b899d24]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:9999}.canvas-item[data-v-7b899d24]{position:absolute;left:0;top:0;width:100%;height:100%;color:#e4370e\n\t\t/* text-shadow: 0 1upx 1upx rgba(255, 255, 255, 0.6); */}.canvas-item-text[data-v-7b899d24]{position:relative;display:block;padding-top:%?46?%;margin:0 auto;text-align:center;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#fb778b}.canvas-item-text uni-text[data-v-7b899d24]{font-size:%?30?%}.canvas-item-text-img[data-v-7b899d24]{width:%?50?%;height:%?50?%;padding-top:%?30?%}\n\n\t/* 分隔线 */.canvas-line[data-v-7b899d24]{position:absolute;left:0;top:0;width:inherit;height:inherit;z-index:99}.canvas-litem[data-v-7b899d24]{position:absolute;left:%?300?%;top:0;width:%?3?%;height:%?300?%;background-color:rgba(228,55,14,.4);overflow:hidden;-webkit-transform-origin:50% %?300?%;transform-origin:50% %?300?%}\n\n\t/**  \n* 抽奖按钮  \n*/.canvas-btn[data-v-7b899d24]{position:absolute;left:%?260?%;top:%?260?%;z-index:400;width:%?80?%;height:%?80?%;-webkit-border-radius:50%;border-radius:50%;color:#f4e9cc;background-color:#e44025;line-height:%?80?%;text-align:center;font-size:%?26?%;text-shadow:0 -1px 1px rgba(0,0,0,.6);-webkit-box-shadow:0 3px 5px rgba(0,0,0,.6);box-shadow:0 3px 5px rgba(0,0,0,.6);text-decoration:none}.canvas-btn[data-v-7b899d24]::after{position:absolute;display:block;content:" ";left:%?12?%;top:%?-44?%;width:0;height:0;overflow:hidden;border-width:%?30?%;border-style:solid;border-color:transparent;border-bottom-color:#e44025}.canvas-btn.disabled[data-v-7b899d24]{pointer-events:none;background:#b07a7b;color:#ccc}.canvas-btn.disabled[data-v-7b899d24]::after{border-bottom-color:#b07a7b}.canvas-btn-table[data-v-7b899d24]{color:#a83fdb;width:%?120?%;text-align:center;position:absolute;left:%?240?%;top:%?360?%;font-size:%?26?%;background-color:#fff;opacity:.9}.typecheckbox[data-v-7b899d24]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-120?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?180?%;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end\n\t\t/* padding-top: 46upx; */}.typecheckbox2[data-v-7b899d24]{width:100%;position:relative;z-index:3;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-size:%?28?%;top:%?-120?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:%?120?%;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end\n\t\t/* padding-top: 46upx; */}.typecheckbox uni-view[data-v-7b899d24]{border:1px solid #ff3637;background:transparent;color:#ff3637;display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;width:%?140?%;-webkit-border-radius:%?50?%;border-radius:%?50?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:flex;margin-left:%?20?%}.typecheckbox uni-view.active[data-v-7b899d24]{background:#ff3637;color:#fff}.guize[data-v-7b899d24]{width:%?502?%;min-height:%?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;position:relative;z-index:3;background-image:-webkit-gradient(linear,left top,left bottom,from(#f48549),to(#f2642e));background-image:-webkit-linear-gradient(top,#f48549,#f2642e);background-image:linear-gradient(-180deg,#f48549,#f2642e);border:%?18?% solid #e4431a;-webkit-border-radius:16px;border-radius:16px;margin:0 auto;margin-top:%?-104?%;padding:%?48?%;\n\t\t/* box-sizing: border-box; */color:#fff}.guize .title[data-v-7b899d24]{text-align:center;margin-bottom:%?28?%}.guize .g_item[data-v-7b899d24]{font-family:PingFang-SC-Medium;font-size:%?24?%;color:#fff;letter-spacing:.5px;text-align:justify;line-height:20px}.shadowbox[data-v-7b899d24]{width:%?750?%;height:100vh;position:fixed;top:0;left:0;z-index:999;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.myrewards[data-v-7b899d24]{width:%?600?%;min-height:%?80?%;background:#ffeedf;border:%?10?% solid #f2692f;color:#333;font-size:%?24?%;font-family:PingFang-SC-Medium;-webkit-border-radius:%?40?%;border-radius:%?40?%;padding:0 %?24?% %?20?%}.myrewards .title[data-v-7b899d24]{font-family:PingFang-SC-Bold;font-size:16px;color:#e4431a;letter-spacing:.57px;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?36?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.myrewards .itembox[data-v-7b899d24]{max-height:%?320?%;overflow-y:auto}.myrewards .item[data-v-7b899d24]{width:100%;padding:%?12?% 0;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:%?1?% dashed #ccc}.myrewards .item .t[data-v-7b899d24]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?10?%}.myrewards .item .b[data-v-7b899d24]{font-size:12px;color:#999;text-align:left}',""]),t.exports=e},"5c81":function(t,e,i){"use strict";var a=i("d08e"),n=i.n(a);n.a},cb7f:function(t,e,i){"use strict";i("4160"),i("a630"),i("3ca3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{awardsConfig:{chance:!0,prize:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[],jifen:0}},onLoad:function(){this.initdata(this)},onReady:function(t){},methods:{getmyPrize:function(){var t=this;this.$api.myLottery({page:1,limit:1e3},(function(e){t.myPrizelist=e.data,t.r_flg=1}))},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},initdata:function(t){var e=this;this.$api.lotteryConfig((function(t){if(t.status){e.awardsConfig=t.data,e.chishu=t.data.user.day_remaining,e.jifen=t.data.user.jifen;e.awardsConfig.prize.length;e.awardsConfig.prize.forEach((function(t,e){t.index=e})),e.drawAwardRoundel()}else e.$common.errorToShow(t.msg,(function(){uni.navigateBack({delta:1})}))}))},drawAwardRoundel:function(){for(var t=this.awardsConfig.prize,e=[],i=1/t.length*360,a=0;a<t.length;a++)e.push({turn:a*i+"deg",lineTurn:a*i+i/2+"deg",award:t[a].title,type:t[a].type,id:t[a].id});this.chishu<1&&this.jifen<this.awardsConfig.integral_exchange?this.btnDisabled="disabled":this.awardsConfig.user.lottery?this.btnDisabled="":this.btnDisabled="disabled",this.awardsList=e},playReward:function(){var t=this;if(this.chishu<1){if(this.jifen<this.awardsConfig.integral_exchange)return this.$common.errorToShow("抽奖次数已经用完"),!1;this.jifen>=this.awardsConfig.integral_exchange&&this.$common.modelShow("提示","本次抽奖将消耗"+this.awardsConfig.integral_exchange+"积分，确认吗？",(function(e){t.lottery()}))}else this.lottery()},lottery:function(){var t=this;this.$api.lottery((function(e){if(e.status){var i=0,a=e.data.result;t.awardsList.forEach((function(t,e){t.id==a.id&&(i=e)}));var n=t.awardsConfig.prize,o=4,s=3686;t.runDeg=t.runDeg||0;var r=t.runDeg;t.runDeg=t.runDeg+(360-t.runDeg%360)+(360*o-i*(360/n.length))+1,document.getElementById("zhuanpano").style="animation:rotate_before 4s 0ms ease forwards;",document.styleSheets[0].cssRules.length>0&&Array.from(document.styleSheets[0].cssRules).forEach((function(t,e){"rotate_before"==t.name&&document.styleSheets[0].deleteRule(e)})),document.styleSheets[0].insertRule("@keyframes rotate_before{from{ transform: rotate("+r+"deg); }to{ transform: rotate("+t.runDeg+"deg);}}",8),t.btnDisabled="disabled";var d=t.awardsConfig,c=d.prize[i].type;if(t.jifen=t.chishu<=0?t.jifen-d.integral_exchange>=0?t.jifen-d.integral_exchange:0:t.jifen,t.chishu=t.chishu>1?t.chishu-1:0,0!=c){var l=t.getPrizeMsg(d.prize[i].type,d.prize[i].val);setTimeout(function(){this.$common.modelShow("恭喜","获得"+d.prize[i].title+"，"+l,(function(t){setTimeout((function(){document.getElementById("zhuanpano").style=""}),1e3)}),!1),e.data.is_lottery.lottery?this.btnDisabled="":this.btnDisabled="disabled"}.bind(t),s)}else setTimeout(function(){this.$common.modelShow("很遗憾","没中奖，再接再厉！",(function(t){setTimeout((function(){document.getElementById("zhuanpano").style=""}),1e3)}),!1),e.data.is_lottery.lottery?this.btnDisabled="":this.btnDisabled="disabled"}.bind(t),s)}else t.$common.modelShow("提示",e.msg)}))},getPrizeMsg:function(t,e){var i="";switch(t){case 1:i="积分："+e+"个";break;case 2:i="优惠券：“"+e+"” 一张";break;case 3:i="余额："+e+"元";break;case 4:i="商品：“"+e+"”";break;default:break}return i}}};e.default=a},d08e:function(t,e,i){var a=i("4652");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("40b05eea",a,!0,{sourceMap:!1,shadowMode:!1})},ff63:function(t,e,i){"use strict";i.r(e);var a=i("cb7f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);