(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-order-orderdetail"],{"12ba":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.cell-group[data-v-23044f4b]{margin-bottom:%?20?%}.cell-bd-view[data-v-23044f4b]{margin-bottom:%?8?%}.cell-bd-view .cell-bd-text[data-v-23044f4b]{font-size:%?22?%;color:#999}.black-text .cell-bd-text[data-v-23044f4b]{font-size:%?28?%;color:#333}.button-bottom[data-v-23044f4b]{padding:%?15?% %?26?%;text-align:right;display:block}.button-bottom .btn[data-v-23044f4b]{margin-left:%?20?%}.order-price[data-v-23044f4b]{padding:%?10?% 0 %?20?%}.order-price .cell-item[data-v-23044f4b]{border-bottom:none;padding-bottom:0;padding-top:0;min-height:%?40?%}.order-price .cell-bd-view[data-v-23044f4b]{margin-bottom:0}.order-offer .cell-item-hd[data-v-23044f4b]{vertical-align:top;padding-top:%?8?%}.order-offer .cell-item-bd[data-v-23044f4b]{padding:0}.order-promotion[data-v-23044f4b]{font-size:%?24?%;color:#fff;background-color:#ff7159;margin:0 0 %?4?% %?6?%;padding:%?2?% %?10?%;display:inline-block;float:right}.user-head-img-c[data-v-23044f4b]{position:relative;width:%?80?%;height:%?80?%;-webkit-border-radius:50%;border-radius:50%;margin-right:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;float:left;border:1px solid #f3f3f3;margin-bottom:%?20?%}.user-head-img-tip[data-v-23044f4b]{position:absolute;top:%?-6?%;left:%?-10?%;display:inline-block;background-color:#ff7159;color:#fff;font-size:%?22?%;z-index:99;padding:0 %?10?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;-webkit-transform:scale(.8);transform:scale(.8)}.group-swiper .cell-item .user-head-img[data-v-23044f4b]{width:100%;height:100%;-webkit-border-radius:50%;border-radius:50%}.group-swiper .cell-item .user-head-img-c[data-v-23044f4b]:first-child{border:1px solid #ff7159}.uhihn[data-v-23044f4b]{width:%?80?%;height:%?80?%;-webkit-border-radius:50%;border-radius:50%;margin-right:%?20?%;display:inline-block;border:%?2?% dashed #e1e1e1;text-align:center;line-height:%?80?%;color:#d1d1d1;font-size:%?40?%;-webkit-box-sizing:border-box;box-sizing:border-box}.group-swiper .cell-item .cell-item-ft .btn[data-v-23044f4b]{font-size:%?26?%;color:#fff;background-color:#ff7159;\n\t/* padding: 0; */text-align:center}.add-title-item .cell-item-hd[data-v-23044f4b]{min-width:20px;color:#666;font-size:14px}.add-title-item .cell-item-bd[data-v-23044f4b]{margin-left:0}.delivery[data-v-23044f4b]{border-bottom:1px solid #f3f3f3}.th .cell-item-bd[data-v-23044f4b]{display:block;-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?20?%;padding-right:0}.content-top[data-v-23044f4b]{padding-bottom:%?116?%}.tips[data-v-23044f4b]{width:%?25?%;height:%?25?%;vertical-align:middle;margin-left:%?6?%;margin-top:%?4?%}.tip[data-v-23044f4b]{position:absolute;padding:%?10?%;left:20%;bottom:40%;width:%?288?%;font-size:%?22?%;color:#999;-webkit-border-radius:%?8?%;border-radius:%?8?%;border:%?2?% solid #999}\n\n/* .tip::before {\n  content: " ";\n  position: absolute;\n  left: 44rpx;\n  bottom: -18rpx;\n  transform: translateX(-50%);\n  width: 0;\n  height: 0;\n  border-left: 12rpx solid transparent;\n  border-right: 12rpx solid transparent;\n  border-top: 18rpx solid #999;\n} */[data-v-23044f4b] .lvv-popup .lvv-popupmark{background:transparent!important}',""]),t.exports=e},1819:function(t,e,i){"use strict";var a=i("fcb0"),s=i.n(a);s.a},"19d5":function(t,e,i){"use strict";i("c975"),i("b64b"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.subscription=e.clickUrl=e.tools=e.checkLogin=e.jumpBackPage=e.goBack=e.goods=e.orders=void 0;var a={mounted:function(){},methods:{orderDetail:function(t){this.$common.navigateTo("/pages/member/order/orderdetail?order_id="+t)},toPay:function(t){this.$common.navigateTo("/pages/goods/payment/index?order_id="+t+"&type=1")},toEvaluate:function(t){this.$common.navigateTo("/pages/member/order/evaluate?order_id="+t)},showExpress:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=encodeURIComponent("code="+t+"&no="+e+"&add="+i);this.$common.navigateTo("/pages/member/order/express_delivery?params="+a)}}};e.orders=a;var s={mounted:function(){},methods:{goodsDetail:function(t){this.$common.navigateTo("/pages/goods/index/index?id="+t)},goodsList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/pages/classify/index";Object.keys(t).length&&(e=this.$common.builderUrlParams(e,t)),this.$common.navigateTo(e)},groupDetail:function(t,e){this.$common.navigateTo("/pages/goods/index/group?id="+t+"&group_id="+e)},pintuanDetail:function(t,e){e?this.$common.navigateTo("/pages/goods/index/pintuan?id="+t+"&team_id="+e):this.$common.navigateTo("/pages/goods/index/pintuan?id="+t)}}};e.goods=s;var n={onBackPress:function(t){if("navigateBack"===t.from)return!1;var e=["/pages/cart/index/index","/pages/member/index/index"],i=this.$store.state.redirectPage;return e.indexOf(i)>-1?(this.$store.commit({type:"redirect",page:""}),uni.switchTab({url:"/pages/index/index"}),!0):void 0},backBtn:function(){var t=getCurrentPages();t.length>1?uni.navigateBack({delta:1}):uni.switchTab({url:"/pages/index/index"})}};e.goBack=n;var o={methods:{handleBack:function(){var t=this.$store.state.redirectPage;console.log(t),this.$store.commit({type:"redirect",page:""});var e=["/pages/index/index","/pages/member/index/index"];e.indexOf(t)>-1?uni.switchTab({url:t}):t?uni.redirectTo({url:t}):uni.switchTab({url:"/pages/index/index"})}}};e.jumpBackPage=o;var r={methods:{checkIsLogin:function(){uni.showToast({title:"请先登录！",icon:"none",duration:800,success:function(t){setTimeout((function(){uni.hideToast(),uni.navigateTo({url:"/pages/login/login/index1"})}),200)}})}}};e.checkLogin=r;var l={methods:{setBarTitle:function(t){uni.setNavigationBarTitle({title:this.$t("".concat(t))})},copyData:function(t){var e=this;uni.setClipboardData({data:t,success:function(){e.$common.errorToShow("复制成功")}})},previewImage:function(t,e){uni.previewImage({current:e||0,urls:t,indicator:"default"})},savePoster:function(){var t=this;t.downloadIamge(t.poster,"image")},downloadIamge:function(t,e){var i=new Image;i.setAttribute("crossorigin","anonymous"),i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height;var a=t.getContext("2d");a.drawImage(i,0,0,i.width,i.height);var s=t.toDataURL("image/png"),n=document.createElement("a"),o=new MouseEvent("click");n.download=e||"photo",n.href=s,n.dispatchEvent(o)},i.src=t},downloadImageOfMp:function(t){}}};e.tools=l;var c={methods:{action:function(t,e){if(e)if(1==t)if(-1!=e.indexOf("http"))window.location.href=e;else{if("/pages/index/index"==e||"/pages/classify/classify"==e||"/pages/cart/index/index"==e||"/pages/me/index"==e)return void uni.switchTab({url:e});if(!(e.indexOf("/pages/coupon/coupon")>-1))return void navigateTo(e);var i=e.replace("/pages/coupon/coupon?id=","");this.receiveCoupon(i)}else 2==t?this.goodsDetail(e):3==t?this.$common.navigateTo("/pages/article/index?id="+e+"&id_type=1"):4==t?this.$common.navigateTo("/pages/article/list?cid="+e):5==t&&this.$common.navigateTo("/pages/form/detail/form?id="+e)},receiveCoupon:function(t){var e=this,i={promotion_id:t};this.$api.getCoupon(i,(function(t){t.status?e.$common.successToShow(t.msg):e.$common.errorToShow(t.msg)}))},goodsDetail:function(t){var e="/pages/goods/index/index?id="+t;navigateTo(e)}}};e.clickUrl=c;var d={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1}]}},methods:{getSubscriptionTmplIds:function(t){var e=this;this.$api.getSubscriptionTmplIds({type:t},(function(t){if(t.status){console.log("res.statue",t);for(var i=0;i<e.msgList.length;i++)t.data[e.msgList[i].func]&&(e.msgList[i].tmpl=t.data[e.msgList[i].func].template_id,""!=e.msgList[i].tmpl&&(e.msgList[i].status=!0))}}))},subAction:function(t){"function"==typeof t&&t()}}};e.subscription=d},2107:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={lvvPopup:i("bc89").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content-top"},[i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-bd-view black-text"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.status_name||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("订单号："+t._s(t.orderInfo.order_id||""))]),i("v-uni-button",{staticClass:"btn btn-g btn-small",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyData(t.orderInfo.order_id)}}},[t._v("复制")])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("下单时间："+t._s(t.orderInfo.ctime||""))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[t.isDelivery?i("v-uni-view",{staticClass:"delivery"},[i("v-uni-view",{staticClass:"cell-item",staticStyle:{border:"none","min-height":"60rpx",padding:"20rpx 26rpx 0 0"}},[i("v-uni-view",{staticClass:"cell-bd-view black-text"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("已发货，请注意查收")])],1)],1),t._l(t.orderInfo.delivery,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cell-item add-title-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.logistics(a)}}},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(e.logi_name||"")+" : "+t._s(e.logi_no||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view",staticStyle:{"margin-left":"20rpx"}},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(e.ctime||""))])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/right.png"}})],1)],1)}))],2):t._e(),t.orderInfo.store?t._e():i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd cell-item-bd-block"},[i("v-uni-view",{staticClass:"cell-bd-view black-text"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("收件人："+t._s(t.orderInfo.ship_name||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.ship_area_name||"")+" "+t._s(t.orderInfo.ship_address||""))])],1)],1)],1)],1),t.orderInfo.store?i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item add-title-item th"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-image",{staticClass:"cell-hd-icon",attrs:{src:"/static/image/homepage.png"}})],1),i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view black-text"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v(t._s(t.orderInfo.store.store_name||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("门店电话："+t._s(t.orderInfo.store.mobile||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("门店地址："+t._s(t.orderInfo.store.all_address||""))])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("提货人信息："+t._s(t.orderInfo.ship_name||""))]),i("v-uni-text",{staticClass:"cell-bd-text",staticStyle:{"margin-left":"10rpx"}},[t._v(t._s(t.orderInfo.ship_mobile||""))])],1),t.lading.status?i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("提货码："),i("v-uni-text",{staticClass:"red-price"},[t._v(t._s(t.lading.code||""))])],1)],1):t._e()],1)],1)],1):t._e(),2==t.orderInfo.order_type&&3!=t.orderInfo.status&&1!=t.orderInfo.pay_status?i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item right-img"},[i("v-uni-view",{staticClass:"cell-item-hd"},[1==t.teamInfo.status?i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("待拼团，还差"+t._s(t.teamInfo.team_nums||"")+"人")]):2==t.teamInfo.status?i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("团已满，请督促小伙伴尽快付款哦")]):3==t.teamInfo.status?i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("拼团成功")]):4==t.teamInfo.status?i("v-uni-view",{staticClass:"cell-hd-title"},[t._v("拼团失败，拼团已结束，如果有付款的订单，会退款并原路返回")]):t._e()],1)],1),i("v-uni-view",{staticClass:"group-swiper"},[t.teamInfo.current_count?i("v-uni-view",{staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd",staticStyle:{"flex-wrap":"wrap"}},[t._l(t.teamInfo.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"user-head-img-c"},[e.id==e.team_id?i("v-uni-view",{staticClass:"user-head-img-tip"},[t._v("拼主")]):t._e(),i("v-uni-image",{staticClass:"user-head-img cell-hd-icon have-none",attrs:{src:e.user_avatar,mode:""}})],1)})),t.teamInfo.team_nums>3?i("v-uni-view",[t._l(3,(function(e){return i("v-uni-view",{key:e,staticClass:"uhihn"},[t._v("?")])})),i("v-uni-view",{staticClass:"uhihn"},[t._v("···")])],2):i("v-uni-view",t._l(t.teamInfo.team_nums,(function(e){return i("v-uni-view",{key:e,staticClass:"uhihn"},[t._v("?")])})),1)],2),1==t.teamInfo.status?i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-button",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goInvition()}}},[t._v("邀请拼单")])],1):t._e()],1):t._e()],1)],1):t._e(),i("v-uni-view",{staticClass:"img-list"},t._l(t.orderInfo.items,(function(e){return i("v-uni-view",{key:e.id,staticClass:"img-list-item"},[i("v-uni-image",{staticClass:"img-list-item-l little-img have-none",attrs:{src:e.image_url,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"img-list-item-r little-right"},[i("v-uni-view",{staticClass:"little-right-t"},[1==t.orderInfo.order_type?i("v-uni-view",{staticClass:"goods-name list-goods-name",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goodsDetail(e.goods_id)}}},[t._v(t._s(e.name||""))]):2==t.orderInfo.order_type?i("v-uni-view",{staticClass:"goods-name list-goods-name",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pintuanDetail(e.goods_id)}}},[t._v(t._s(e.name||""))]):i("v-uni-view",{staticClass:"goods-name list-goods-name"},[t._v(t._s(e.name||""))]),i("v-uni-view",{staticClass:"goods-price"},[t._v("￥"+t._s(e.price))])],1),i("v-uni-view",{staticClass:"romotion-tip"},t._l(e.promotion_list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"romotion-tip-item"},[t._v(t._s(e||""))])})),1),i("v-uni-view",{staticClass:"goods-item-c"},[i("v-uni-view",{staticClass:"goods-buy"},[null!==e.addon?i("v-uni-view",{staticClass:"goods-salesvolume"},[t._v(t._s(e.addon||""))]):t._e(),i("v-uni-view",{staticClass:"goods-num"},[t._v("× "+t._s(e.nums||""))])],1)],1)],1)],1)})),1),t.orderInfo.invoice&&1!=t.orderInfo.invoice.type?i("v-uni-view",{staticClass:"cell-group margin-cell-group"},[i("v-uni-view",{staticClass:"cell-item add-title-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTaxList()}}},[i("v-uni-view",{staticClass:"cell-item-bd cell-item-bd-block",staticStyle:{"padding-right":"0"}},[i("v-uni-view",{staticClass:"cell-bd-view black-text"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("发票信息")])],1),i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("发票抬头："+t._s(t.orderInfo.invoice.title||""))])],1),3==t.orderInfo.invoice.type?i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("发票税号："+t._s(t.orderInfo.invoice.tax_number||""))])],1):t._e()],1)],1)],1):t._e(),t.orderInfo.promotion_list&&t.orderInfo.promotion_list.length>0?i("v-uni-view",{staticClass:"cell-group margin-cell-group order-offer"},[i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-bd-view promotion-title"},[i("v-uni-text",{staticClass:"cell-bd-text promotion-title-text"},[t._v("订单优惠")])],1)],1),i("v-uni-view",{staticClass:"cell-item-bd"},t._l(t.orderInfo.promotion_list,(function(e,a){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"item.type == 2"}],key:a,staticClass:"order-promotion"},[t._v(t._s(e.name||""))])})),1)],1)],1):t._e(),i("v-uni-view",{staticClass:"cell-group margin-cell-group order-price"},[i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("商品总价")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("￥"+t._s(t.orderInfo.goods_amount||""))])],1)],1),i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("运费")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("￥"+t._s(t.orderInfo.cost_freight||""))])],1)],1),t.orderInfo.goods_pmt>0?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("商品优惠")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.goods_pmt||""))])],1)],1):t._e(),t.orderInfo.point_money>0?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("积分优惠")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.point_money||""))])],1)],1):t._e(),t.orderInfo.order_pmt>0?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("订单优惠")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.order_pmt||""))])],1)],1):t._e(),t.orderInfo.coupon_pmt>0?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd",staticStyle:{overflow:"inherit"}},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("优惠券优惠")]),i("v-uni-image",{staticClass:"tips",attrs:{src:"/static/image/tip.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tips.apply(void 0,arguments)}}}),i("lvv-popup",{ref:"cover",staticClass:"cover",attrs:{position:"center"}},[t.tipsShow?i("v-uni-view",{staticClass:"tip"},[t._v("订单优惠包括优惠券优惠")]):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v("-￥"+t._s(t.orderInfo.coupon_pmt||""))])],1)],1):t._e(),i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("订单总价")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p red-price"},[t._v("￥"+t._s(t.orderInfo.order_amount||""))])],1)],1),t.orderInfo.pay_status>1?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("支付方式")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v(t._s(t.orderInfo.payment_name||""))])],1)],1):t._e(),t.orderInfo.pay_status>1?i("v-uni-view",{staticClass:"cell-item add-title-item"},[i("v-uni-view",{staticClass:"cell-item-bd"},[i("v-uni-view",{staticClass:"cell-bd-view"},[i("v-uni-text",{staticClass:"cell-bd-text"},[t._v("支付时间")])],1)],1),i("v-uni-view",{staticClass:"cell-item-ft"},[i("v-uni-text",{staticClass:"cell-ft-p"},[t._v(t._s(t.orderInfo.payment_time||""))])],1)],1):t._e()],1)],1),1==t.orderInfo.status||2==t.orderInfo.status?i("v-uni-view",{staticClass:"button-bottom"},[1==t.orderInfo.status&&1==t.orderInfo.pay_status&&1==t.orderInfo.ship_status?i("v-uni-button",{staticClass:"btn btn-circle btn-g",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder(t.orderInfo.order_id)}}},[t._v("取消订单")]):t._e(),1==t.orderInfo.status&&1==t.orderInfo.pay_status?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPay(t.orderInfo.order_id)}}},[t._v("立即支付")]):t._e(),1==t.orderInfo.status&&t.orderInfo.pay_status>=2&&t.orderInfo.ship_status>=3&&1==t.orderInfo.confirm?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tackDeliery(t.orderInfo.order_id)}}},[t._v("确认收货")]):t._e(),1===t.orderInfo.status&&t.orderInfo.pay_status>=2&&t.orderInfo.ship_status>=3&&t.orderInfo.confirm>=2&&1===t.orderInfo.is_comment?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toEvaluate(t.orderInfo.order_id)}}},[t._v("立即评价")]):t._e(),1==t.orderInfo.add_aftersales_status?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.customerService(t.orderInfo.order_id)}}},[t._v("申请售后")]):t._e(),t.orderInfo.bill_aftersales_id&&0!=t.orderInfo.bill_aftersales_id?i("v-uni-button",{staticClass:"btn btn-circle btn-w",attrs:{"hover-class":"btn-hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCustomerService(t.orderInfo)}}},[t._v("查看售后")]):t._e()],1):t._e()],1)},n=[]},2994:function(t,e,i){"use strict";i("4160"),i("b64b"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("19d5"),s={mixins:[a.orders,a.goods,a.tools],data:function(){return{orderId:0,orderInfo:{},teamInfo:[],lading:{status:!1,code:""},tipsShow:!1}},onLoad:function(t){this.orderId=t.order_id,this.orderId||this.$common.errorToShow("",(function(){uni.navigateBack({delta:1})}))},onShow:function(){this.orderDetail()},computed:{isDelivery:function(){return!!(this.orderInfo&&this.orderInfo.delivery&&Object.keys(this.orderInfo.delivery).length)}},methods:{orderDetail:function(){var t=this,e={order_id:t.orderId};t.$api.orderDetail(e,(function(e){if(e.status){var i=e.data;switch(i.status){case 1:1===i.pay_status?t.$set(i,"status_name","待付款"):i.pay_status>=2&&1===i.ship_status?t.$set(i,"status_name","待发货"):i.pay_status>=2&&2===i.ship_status?t.$set(i,"status_name","部分发货"):i.pay_status>=2&&i.ship_status>=3&&1===i.confirm?t.$set(i,"status_name","已发货"):i.pay_status>=2&&i.ship_status>=3&&i.confirm>=2&&1===i.is_comment?t.$set(i,"status_name","待评价"):i.pay_status>=2&&i.ship_status>=3&&i.confirm>=2&&i.is_comment>=2&&t.$set(i,"status_name","已评价");break;case 2:t.$set(i,"status_name",i.text_status);break;case 3:t.$set(i,"status_name",i.text_status);break}for(var a in i.ctime=t.$common.timeToDate(i.ctime),null!==i.payment_time&&(i.payment_time=t.$common.timeToDate(i.payment_time)),i.items)i.items[a].promotion_list=JSON.parse(i.items[a].promotion_list);t.orderInfo=i,t.orderInfo.delivery.forEach((function(e){e.ctime=t.$common.timeToDate(e.ctime)})),2==i.order_type&&t.getTeam(i.order_id),i.ladingItem[0]&&(t.lading={status:!0,code:i.ladingItem[0].id})}else t.$common.errorToShow(e.msg)}))},cancelOrder:function(t){var e=this;this.$common.modelShow("提示","确认要取消订单吗?",(function(){var i={order_ids:t};e.$api.cancelOrder(i,(function(t){t.status?e.$common.successToShow(t.msg,(function(){e.orderDetail()})):e.$common.errorToShow(t.msg)}))}))},tackDeliery:function(t){var e=this;this.$common.modelShow("提示","确认收货操作吗?",(function(){var i={order_id:t};e.$api.confirmOrder(i,(function(t){t.status?e.$common.successToShow("确认收货成功",(function(){var t=getCurrentPages(),i=t[t.length-2];void 0!==i&&"pages/member/order/orderlist"===i.route&&(i.isReload=!0),e.orderDetail()})):e.$common.errorToShow(t.msg)}))}))},customerService:function(t){this.$common.navigateTo("../after_sale/index?order_id="+t)},logistics:function(t){var e=this.orderInfo.ship_area_name?this.orderInfo.ship_area_name:"",i=this.orderInfo.ship_address?this.orderInfo.ship_address:"",a=e+i;this.showExpress(this.orderInfo.delivery[t].logi_code,this.orderInfo.delivery[t].logi_no,a)},showCustomerService:function(t){1==t.aftersalesItem.length?this.$common.navigateTo("../after_sale/detail?aftersales_id="+t.bill_aftersales_id):t.aftersalesItem.length>1&&this.$common.navigateTo("../after_sale/list?order_id="+t.order_id)},goInvition:function(){uni.navigateTo({url:"./invitation_group?order_id="+this.orderInfo.order_id+"&close_time="+this.teamInfo.close_time})},getTeam:function(t){var e=this;this.$api.getOrderPintuanTeamInfo({order_id:t},(function(t){t.status?e.teamInfo={list:t.data.teams,current_count:t.data.teams.length,people_number:t.data.people_number,team_nums:t.data.team_nums,close_time:t.data.close_time,id:t.data.id,team_id:t.data.team_id,rule_id:t.data.rule_id,status:t.data.status}:e.$common.errorToShow(t.msg)}))},goTaxList:function(){this.orderInfo&&this.orderInfo.invoice&&this.orderInfo.invoice.id&&uni.navigateTo({url:"/pages/member/invoice/index?id="+this.orderInfo.invoice.id})},tips:function(){this.tipsShow?(this.$refs.cover.close(),this.tipsShow=!1):(this.$refs.cover.show(),this.tipsShow=!0)}}};e.default=s},"2a12":function(t,e,i){var a=i("12ba");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("2a5421e0",a,!0,{sourceMap:!1,shadowMode:!1})},4515:function(t,e,i){"use strict";i.r(e);var a=i("2994"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},"47de":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.popshow,expression:"popshow"}],staticClass:"lvv-popup",on:{touchmove:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"lvv-popupmark",class:"top"!=t.position||t.hideanimation?"left"!=t.position||t.hideanimation?"right"!=t.position||t.hideanimation?"bottom"!=t.position||t.hideanimation?"top"==t.position&&t.hideanimation?"ht":"left"==t.position&&t.hideanimation?"hl":"right"==t.position&&t.hideanimation?"hr":"bottom"==t.position&&t.hideanimation?"hc":"":"pc":"pr":"pl":"pt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"lvv-popupcontent",class:"top"!=t.position||t.hideanimation?"left"!=t.position||t.hideanimation?"right"!=t.position||t.hideanimation?"bottom"!=t.position||t.hideanimation?"top"==t.position&&t.hideanimation?"ht":"left"==t.position&&t.hideanimation?"hl":"right"==t.position&&t.hideanimation?"hr":"bottom"==t.position&&t.hideanimation?"hb":"":"pb":"pr":"pl":"pt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"realcontent",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._t("default")],2)],1)],1)},n=[]},"613b":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.lvv-popup[data-v-409cc2bf]{top:0;left:0;width:100%;height:100%;position:fixed;z-index:98}.lvv-popup .lvv-popupmark[data-v-409cc2bf]{top:0;left:0;width:100%;height:100%;z-index:99;position:absolute;background:rgba(0,0,0,.5)}.lvv-popup .lvv-popupmark.pt[data-v-409cc2bf], .lvv-popup .lvv-popupmark.ht[data-v-409cc2bf]{background:none}.lvv-popup .lvv-popupcontent[data-v-409cc2bf]{width:100%;height:100%;top:0;left:0;position:absolute;z-index:100}.lvv-popup .pt[data-v-409cc2bf]{-webkit-animation:showtop-data-v-409cc2bf .5s;animation:showtop-data-v-409cc2bf .5s}.lvv-popup .pl[data-v-409cc2bf]{-webkit-animation:showleft-data-v-409cc2bf .5s;animation:showleft-data-v-409cc2bf .5s}.lvv-popup .pr[data-v-409cc2bf]{-webkit-animation:showright-data-v-409cc2bf .5s;animation:showright-data-v-409cc2bf .5s}.lvv-popup .pb[data-v-409cc2bf]{-webkit-animation:showbottom-data-v-409cc2bf .5s;animation:showbottom-data-v-409cc2bf .5s}.lvv-popup .ht[data-v-409cc2bf]{-webkit-animation:hidetop-data-v-409cc2bf .5s;animation:hidetop-data-v-409cc2bf .5s}.lvv-popup .hl[data-v-409cc2bf]{-webkit-animation:hideleft-data-v-409cc2bf .55s;animation:hideleft-data-v-409cc2bf .55s}.lvv-popup .hr[data-v-409cc2bf]{-webkit-animation:hideright-data-v-409cc2bf .55s;animation:hideright-data-v-409cc2bf .55s}.lvv-popup .hb[data-v-409cc2bf]{-webkit-animation:hidebottom-data-v-409cc2bf 1s;animation:hidebottom-data-v-409cc2bf 1s}.lvv-popup .pc[data-v-409cc2bf]{-webkit-animation:showcontent-data-v-409cc2bf .55s;animation:showcontent-data-v-409cc2bf .55s}.lvv-popup .hc[data-v-409cc2bf]{-webkit-animation:hidecontent-data-v-409cc2bf .55s;animation:hidecontent-data-v-409cc2bf .55s}@-webkit-keyframes showtop-data-v-409cc2bf{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}100%{top:0;-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes showtop-data-v-409cc2bf{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}100%{top:0;-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@-webkit-keyframes showleft-data-v-409cc2bf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes showleft-data-v-409cc2bf{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes showright-data-v-409cc2bf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes showright-data-v-409cc2bf{0%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}50%{opacity:0}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes showbottom-data-v-409cc2bf{0%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}50%{opacity:.5}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes showbottom-data-v-409cc2bf{0%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}50%{opacity:.5}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes hidetop-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}}@keyframes hidetop-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:1}}@-webkit-keyframes hideleft-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}}@keyframes hideleft-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:1}}@-webkit-keyframes hideright-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}}@keyframes hideright-data-v-409cc2bf{0%{-webkit-transform:translateX(0);transform:translateX(0)}50%{opacity:0}100%{-webkit-transform:translateX(100%);transform:translateX(100%);opacity:1}}@-webkit-keyframes hidebottom-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{opacity:0}100%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}}@keyframes hidebottom-data-v-409cc2bf{0%{-webkit-transform:translateY(0);transform:translateY(0)}50%{opacity:0}100%{-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1}}@-webkit-keyframes showcontent-data-v-409cc2bf{0%{opacity:0}100%{opacity:1}}@keyframes showcontent-data-v-409cc2bf{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes hidecontent-data-v-409cc2bf{0%{opacity:1}100%{opacity:0}}@keyframes hidecontent-data-v-409cc2bf{0%{opacity:1}100%{opacity:0}}',""]),t.exports=e},"75a7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{position:{type:String,default:null}},data:function(){return{popshow:!1,hideanimation:!1}},methods:{show:function(){this.popshow=!0},close:function(){var t=this;this.$emit("close"),t.hideanimation=!0,null==t.position?t.popshow=!1:setTimeout((function(){t.popshow=!1,t.hideanimation=!1}),500)}}};e.default=a},b1fa:function(t,e,i){"use strict";var a=i("2a12"),s=i.n(a);s.a},b507:function(t,e,i){"use strict";i.r(e);var a=i("2107"),s=i("4515");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("b1fa");var o,r=i("f0c5"),l=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"23044f4b",null,!1,a["a"],o);e["default"]=l.exports},bc89:function(t,e,i){"use strict";i.r(e);var a=i("47de"),s=i("df4c");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("1819");var o,r=i("f0c5"),l=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"409cc2bf",null,!1,a["a"],o);e["default"]=l.exports},df4c:function(t,e,i){"use strict";i.r(e);var a=i("75a7"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},fcb0:function(t,e,i){var a=i("613b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("fb513a54",a,!0,{sourceMap:!1,shadowMode:!1})}}]);