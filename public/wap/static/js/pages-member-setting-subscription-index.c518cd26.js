(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-setting-subscription-index"],{3328:function(t,s,i){var e=i("d533");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("7be9d86d",e,!0,{sourceMap:!1,shadowMode:!1})},"55c2":function(t,s,i){"use strict";i.r(s);var e=i("9405"),n=i.n(e);for(var c in e)"default"!==c&&function(t){i.d(s,t,(function(){return e[t]}))}(c);s["default"]=n.a},"67e5":function(t,s,i){"use strict";var e,n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content-top"},[i("v-uni-view",{staticClass:"cell-group right-img"},t._l(t.msgList,(function(s,e){return s.status?i("v-uni-view",{key:e,staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v(t._s(s.name))]),i("v-uni-view",{staticClass:"cell-hd-desc"},[t._v(t._s(s.desc))])],1),i("v-uni-view",{staticClass:"cell-item-ft"},[s.is?t._e():i("v-uni-view",{staticClass:"subscription-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.subscription(s.func,s.tmpl)}}},[t._v("添加通知")]),s.is?i("v-uni-view",{staticClass:"subscription-btn isTrue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.subscription(s.func,s.tmpl)}}},[t._v("已加通知")]):t._e()],1)],1):t._e()})),1)],1)],1)},c=[];i.d(s,"b",(function(){return n})),i.d(s,"c",(function(){return c})),i.d(s,"a",(function(){return e}))},9405:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1,is:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1,is:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1,is:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1,is:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1,is:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1,is:!1}]}},onShow:function(){this.getSubscriptionTmplIds()},methods:{getSubscriptionTmplIds:function(){var t=this;this.$api.getSubscriptionTmplIds((function(s){if(s.status)for(var i=0;i<t.msgList.length;i++)t.msgList[i].tmpl=s.data[t.msgList[i].func].template_id,t.msgList[i].is=s.data[t.msgList[i].func].is,""!=t.msgList[i].tmpl&&(t.msgList[i].status=!0);else t.$common.errorToShow("消息订阅配置信息获取失败")}))},subscription:function(t,s){var i=this;uni.requestSubscribeMessage({tmplIds:[s],success:function(t){if("requestSubscribeMessage:ok"==t.errMsg){var e={template_id:s,status:t[s]};i.$api.setSubscriptionStatus(e,(function(t){i.getSubscriptionTmplIds()}))}else i.$common.errorToShow("操作失败，请稍候重试！",(function(t){i.getSubscriptionTmplIds()}))}})}}};s.default=e},b298:function(t,s,i){"use strict";var e=i("3328"),n=i.n(e);n.a},d533:function(t,s,i){var e=i("24fb");s=e(!1),s.push([t.i,".agreement[data-v-7da0ec2c]{position:fixed;bottom:%?30?%;width:100%;margin:%?20?% 0;text-align:center}.color-o[data-v-7da0ec2c]{margin:0 %?10?%}.cell-hd-title[data-v-7da0ec2c]{font-size:%?30?%;\r\n    /* color: #000000; */display:block;width:%?180?%}.cell-hd-desc[data-v-7da0ec2c]{font-size:%?24?%;\r\n    /* display: block; */width:%?200?%;color:#888\r\n    /* margin-top: 50rpx; */}.subscription-btn[data-v-7da0ec2c]{background-color:#333;color:#fff;padding:0 %?20?%;line-height:%?46?%;margin-right:%?20?%;border:1px solid #333}.isTrue[data-v-7da0ec2c]{background-color:#fff;border:1px solid #333;color:#333;line-height:%?46?%}",""]),t.exports=s},e5f4:function(t,s,i){"use strict";i.r(s);var e=i("67e5"),n=i("55c2");for(var c in n)"default"!==c&&function(t){i.d(s,t,(function(){return n[t]}))}(c);i("b298");var a,u=i("f0c5"),o=Object(u["a"])(n["default"],e["b"],e["c"],!1,null,"7da0ec2c",null,!1,e["a"],a);s["default"]=o.exports}}]);